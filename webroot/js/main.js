!function(){"use strict";function e(e,t){var n=void 0;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}}function t(t){"undefined"!=typeof t&&t.preventDefault();var u=this.querySelector(".js-grid-poster");if(!n){var m=u.style.backgroundImage;c.style.backgroundImage=m,d.style.backgroundImage=m,i.classList.add("movie-container--visible")}var y=s.getBoundingClientRect(),v=u.getBoundingClientRect(),f=1/(y.width/v.width),p=v.left-y.left,g=v.top-y.top;if(s.style.transform="translate("+p+"px, "+g+"px)",a.style.transform="scale("+f+")",n)s.classList.remove("movie--flipped"),r.style.opacity=0,s.addEventListener("transitionend",e(function(){u.style.opacity=1,i.classList.remove("movie-container--animate"),i.classList.remove("movie-container--visible"),s.style.transform="none",a.style.transform="none"}));else{var b=3*(1/f);c.style.borderRadius=b+"px",l.style.borderRadius=b+"px",u.style.opacity=0,window.requestAnimationFrame(function(){i.classList.add("movie-container--animate"),a.style.transform="none",s.style.transform="none",r.style.opacity=1,s.classList.add("movie--flipped")})}n=!n,o=this}for(var n=!1,o=null,i=document.querySelector(".js-movie-container"),r=document.querySelector(".js-movie-container-bg"),s=document.querySelector(".js-movie"),a=document.querySelector(".js-movie-inner"),c=document.querySelector(".js-movie-front"),l=document.querySelector(".js-movie-back"),d=document.querySelector(".js-movie-back-poster"),u=document.querySelectorAll(".js-grid-item"),m=0;m<u.length;m++)u[m].addEventListener("click",t);i.addEventListener("click",function(){t.bind(o)()})}();
//# sourceMappingURL=main.js.map
