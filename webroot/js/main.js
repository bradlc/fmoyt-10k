!function(){"use strict";function e(e,t){var n=void 0;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}}function t(t){"undefined"!=typeof t&&t.preventDefault();var d=this.querySelector(".js-grid-poster");if(!n){var u=d.style.backgroundImage;a.style.backgroundImage=u,c.style.backgroundImage=u,i.classList.add("movie-container--visible")}var m=r.getBoundingClientRect(),v=d.getBoundingClientRect(),y=1/(m.width/v.width),f=v.left-m.left,p=v.top-m.top;if(r.style.transform="translate("+f+"px, "+p+"px)",s.style.transform="scale("+y+")",n)r.classList.remove("movie--flipped"),r.addEventListener("transitionend",e(function(){d.style.opacity=1,i.classList.remove("movie-container--animate"),i.classList.remove("movie-container--visible"),r.style.transform="none",s.style.transform="none"}));else{var g=3*(1/y);a.style.borderRadius=g+"px",l.style.borderRadius=g+"px",d.style.opacity=0,window.requestAnimationFrame(function(){i.classList.add("movie-container--animate"),s.style.transform="none",r.style.transform="none",r.classList.add("movie--flipped")})}n=!n,o=this}for(var n=!1,o=null,i=document.querySelector(".js-movie-container"),r=document.querySelector(".js-movie"),s=document.querySelector(".js-movie-inner"),a=document.querySelector(".js-movie-front"),l=document.querySelector(".js-movie-back"),c=document.querySelector(".js-movie-back-poster"),d=document.querySelectorAll(".js-grid-item"),u=0;u<d.length;u++)d[u].addEventListener("click",t);i.addEventListener("click",function(){t.bind(o)()})}();
//# sourceMappingURL=main.js.map
