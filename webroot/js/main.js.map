{"version":3,"sources":["main.js"],"names":["flip","e","items","poster","this","querySelector","style","backgroundImage","image","fromRect","movie","getBoundingClientRect","toRect","classList","width","top","left","scale","borderRadius","transform","requestAnimationFrame","opacity","add","movieContainer","document","movieInner","movieBack","i","length","addEventListener"],"mappings":"wBASA,SAASA,GAAKC,KAFRC,oBAENC,GAAiBC,KAAAC,cAAA,mBAGTF,EAASA,EAAKE,MAAAA,kBAITC,MAAMC,gBAAkBC,IACnBF,MAAMC,gBAAkBC,IAD7BF,UAAMC,IAAAA,+BAKXE,GAAWC,EAAMC,wBACjBC,EAHSC,EAAAA,wBAETJ,EAAAA,GAAWC,EAAMC,MAAAA,EAANG,OACXF,EAAST,EAAOQ,KAAAA,EAAAA,KAIhBI,EAAMH,EAAOG,IAAMN,EAASM,MAD5BC,MAAOJ,UAGb,aAHoCI,EAGpC,OAHAD,EAGA,QAFYH,MAAOG,UAGnB,SAHAE,EAGA,OAGMC,GAHWC,GAAjB,EAAAF,KAIWX,MAAMY,aAAkBA,EAAnC,OACUZ,MAAMY,aAAkBA,EAAlC,OAEOZ,MAHIA,QAAMY,SAKVE,sBAAsB,aAFhBC,UAAbC,IAAA,8BAIahB,MAAMa,UAAY,SAFxBC,MAAAA,UAAAA,SAICP,UAHSA,IAAAA,oBAOnB,IARE,GAtCIU,GAAiBC,SAASnB,cAAc,uBACxCK,EAAQc,SAASnB,cAAc,aAC/BoB,EAAaD,SAASnB,cAAc,mBAFpCkB,EAAAA,SAAiBC,cAASnB,mBAC1BK,EAAQc,SAASnB,cAAc,kBAC/BoB,EAAaD,SAASnB,cAAc,yBAEpCqB,EAAAA,SAAYF,iBAAuB,iBAkCvCG,EAAA,EAAAA,EAAAzB,EAAA0B,OAAAD,MASMA,GAAGE,iBAAiB,QAAS7B","file":"main.js","sourcesContent":["const movieContainer = document.querySelector('.js-movie-container');\nconst movie = document.querySelector('.js-movie');\nconst movieInner = document.querySelector('.js-movie-inner');\nconst movieFront = document.querySelector('.js-movie-front');\nconst movieBack = document.querySelector('.js-movie-back');\nconst movieBackPoster = document.querySelector('.js-movie-back-poster');\n\nconst items = document.querySelectorAll('.js-grid-item');\n\nfunction flip(e) {\n  e.preventDefault();\n\n  const poster = this.querySelector('.js-grid-poster');\n\n  // update poster\n  const image = poster.style.backgroundImage;\n  movieFront.style.backgroundImage = image;\n  movieBackPoster.style.backgroundImage = image;\n\n  movieContainer.classList.add('movie-container--visible');\n\n  const fromRect = movie.getBoundingClientRect();\n  const toRect = poster.getBoundingClientRect();\n\n  const scale = 1 / (fromRect.width / toRect.width);\n  const left = toRect.left - fromRect.left;\n  const top = toRect.top - fromRect.top;\n\n  movie.style.transform = `translate(${left}px, ${top}px)`;\n  movieInner.style.transform = `scale(${scale})`;\n\n  // border radius\n  const borderRadius = 3 * (1 / scale);\n  movieFront.style.borderRadius = `${borderRadius}px`;\n  movieBack.style.borderRadius = `${borderRadius}px`;\n\n  poster.style.opacity = 0;\n\n  window.requestAnimationFrame(() => {\n    movieContainer.classList.add('movie-container--animate');\n    movieInner.style.transform = 'none';\n    movie.style.transform = 'none';\n    movie.classList.add('movie--flipped');\n  });\n}\n\nfor (let i = 0; i < items.length; i++) {\n  items[i].addEventListener('click', flip);\n}\n"],"sourceRoot":"/source/"}