{"version":3,"sources":["main.js"],"names":["movieContainer","document","querySelector","movie","movieInner","i","items","length","querySelectorAll","e","preventDefault","target","closest","fromRect","getBoundingClientRect","poster","width","toRect","top","left","scale","style","transform","classList","add","requestAnimationFrame"],"mappings":"wBAMA,KAAK,GANCA,GAAiBC,SAASC,cAAc,uBACxCC,EAAQF,SAASC,cAAc,aAC/BE,EAAaH,SAASC,cAAc,mBADpCC,EAAQF,SAASC,iBAAc,iBAK5BG,EAAI,EAAGA,EAAIC,EAAMC,OAAQF,MAF5BC,GAAAA,iBAAiBE,QAAT,SAAAC,KAIRC,mBAFUL,UAAUE,IAA1B,+BAEMG,GAAAA,EAAFC,OAAAC,QAAA,iBAAAV,cAAA,mBAKMW,EAAWV,EAAMW,wBAFjBC,EAAWJ,EAAOC,wBAElBC,EAAAA,GAAWV,EAAMW,MAAAA,EAANE,OACXC,EAASF,EAAOD,KAAAA,EAAAA,KAIhBI,EAAMD,EAAOC,IAAML,EAASK,MAD5BC,MAAOF,UAGb,aAHoCE,EAGpC,OAHAD,EAGA,QAFYD,MAAOC,UAGnB,SAHAE,EAGA,WADMC,sBAAN,aACWA,UAAMC,IAAjB,aAIQC,UAAUC,IAAI,aAFfC,MAAAA,UAAsB,SAIrBJ,MAHKE,UAAX,SACMA,UAAUC,IAAI","file":"main.js","sourcesContent":["const movieContainer = document.querySelector('.js-movie-container');\nconst movie = document.querySelector('.js-movie');\nconst movieInner = document.querySelector('.js-movie-inner');\n\nconst items = document.querySelectorAll('.js-grid-item');\n\nfor (let i = 0; i < items.length; i++) {\n  items[i].addEventListener('click', e => {\n    e.preventDefault();\n    movieContainer.classList.add('movie-container--visible');\n\n    const poster = e.target.closest('.js-grid-item').querySelector('.js-grid-poster');\n\n    const fromRect = movie.getBoundingClientRect();\n    const toRect = poster.getBoundingClientRect();\n\n    const scale = 1 / (fromRect.width / toRect.width);\n    const left = toRect.left - fromRect.left;\n    const top = toRect.top - fromRect.top;\n\n    movie.style.transform = `translate(${left}px, ${top}px)`;\n    movieInner.style.transform = `scale(${scale})`;\n\n    window.requestAnimationFrame(() => {\n      movieInner.classList.add('animate');\n      movie.classList.add('animate');\n      movieInner.style.transform = 'none';\n      movie.style.transform = 'none';\n      movie.classList.add('movie--flipped');\n    });\n  });\n}\n"],"sourceRoot":"/source/"}