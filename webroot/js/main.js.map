{"version":3,"sources":["main.js"],"names":["movieContainer","document","querySelector","movie","movieInner","movieFront","i","items","length","querySelectorAll","e","preventDefault","poster","addEventListener","closest","style","backgroundImage","image","fromRect","getBoundingClientRect","toRect","classList","width","top","left","scale","target","transform","requestAnimationFrame","add"],"mappings":"wBAQA,KAAK,GARCA,GAAiBC,SAASC,cAAc,uBACxCC,EAAQF,SAASC,cAAc,aAC/BE,EAAaH,SAASC,cAAc,mBAFpCF,EAAAA,SAAiBC,cAASC,mBAC1BC,EAAiBD,SAAAA,cAAvB,yBAEMG,EAAAA,SAAaJ,iBAAuB,iBAKjCK,EAAI,EAAGA,EAAIC,EAAMC,OAAQF,MAF5BC,GAAAA,iBAAiBE,QAAT,SAAAC,KAIRC,oBADJC,GAASC,EAAAA,OAAiBC,QAA1B,iBAAwCZ,cAAA,mBAGhCU,EAASF,EAAAK,MAASD,kBAIbC,MAAMC,gBAAkBC,IACnBF,MAAMC,gBAAkBC,IAD7BF,UAAMC,IAAAA,+BAKXE,GAAWf,EAAMgB,wBACjBC,EAHSC,EAAAA,wBAETH,EAAAA,GAAWf,EAAMgB,MAAAA,EAANG,OACXF,EAASR,EAAOO,KAAAA,EAAAA,KAIhBI,EAAMH,EAAOG,IAAML,EAASK,MAD5BC,MAAOJ,UAGb,aAHoCI,EAGpC,OAHAD,EAGA,QAFYH,MAAOG,UAGnB,SAHAE,EAGA,MAEEC,OAHIX,QAAMY,iBAAZZ,MAAqCS,QAArC,SAKOI,sBAAsB,aAFZP,UAAAQ,IAAA,8BAIJd,MAAMY,UAAY,SAFxBC,MAAAA,UAAAA,SAICP,UAHSA,IAAAA","file":"main.js","sourcesContent":["const movieContainer = document.querySelector('.js-movie-container');\nconst movie = document.querySelector('.js-movie');\nconst movieInner = document.querySelector('.js-movie-inner');\nconst movieFront = document.querySelector('.js-movie-front');\nconst movieBackPoster = document.querySelector('.js-movie-back-poster');\n\nconst items = document.querySelectorAll('.js-grid-item');\n\nfor (let i = 0; i < items.length; i++) {\n  items[i].addEventListener('click', e => {\n    e.preventDefault();\n\n    const poster = e.target.closest('.js-grid-item').querySelector('.js-grid-poster');\n\n    // update poster\n    const image = poster.style.backgroundImage;\n    movieFront.style.backgroundImage = image;\n    movieBackPoster.style.backgroundImage = image;\n\n    movieContainer.classList.add('movie-container--visible');\n\n    const fromRect = movie.getBoundingClientRect();\n    const toRect = poster.getBoundingClientRect();\n\n    const scale = 1 / (fromRect.width / toRect.width);\n    const left = toRect.left - fromRect.left;\n    const top = toRect.top - fromRect.top;\n\n    movie.style.transform = `translate(${left}px, ${top}px)`;\n    movieInner.style.transform = `scale(${scale})`;\n\n    e.target.closest('.js-grid-item').style.opacity = 0;\n\n    window.requestAnimationFrame(() => {\n      movieContainer.classList.add('movie-container--animate');\n      movieInner.style.transform = 'none';\n      movie.style.transform = 'none';\n      movie.classList.add('movie--flipped');\n    });\n  });\n}\n"],"sourceRoot":"/source/"}